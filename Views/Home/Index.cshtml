@using Microsoft.AspNetCore.Identity
@model Chat.ViewModels.IndexViewModel
@{
    ViewData["Title"] = "Home Page";
}
@if (User.Identity.IsAuthenticated)
{
    <div class="row justify-content-center">
       @foreach (var user in Model.Users)
        {
        <a asp-controller="Home" asp-action="ShowChat" asp-route-toUser="@user.IdentityUser.Email" class="my-5">
            <div class="mx-5 card wow fadeInRight animated">
                <div class="view overlay zoom py-3 px-3 flex-center" style="width: 270px; height: 270px;">
                    <img src="@user.Avatar.Img" class="img-fluid rounded-circle" style="width: 100%;
                                                                              height: 100%;
                                                                              object-fit: cover;
                                                                              object-position: 0 0;">
                </div>
                <div class="mt-3 text-center text-white">
                    <h6 class="font-weight-bold pt-2">@user.IdentityUser.Email</h6>
                </div>
            </div>
        </a>
        }
    </div>
}
else
{
<div class="row">
    <a class="btn btn-deep-orange" asp-area="Identity" asp-page="/Account/Register">Register</a>
    <a class="btn btn-pink" asp-area="Identity" asp-page="/Account/Login">Login</a>
</div>
}
<div></div>
<input type="hidden" id="toUser" value="@User.Identity.Name" />
